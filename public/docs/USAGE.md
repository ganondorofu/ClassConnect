
# ClassConnect 利用ガイド

ClassConnect（クラスコネクト）をご利用いただきありがとうございます。
このガイドでは、ClassConnectの基本的な使い方と便利な機能について説明します。

## 1. ClassConnectとは？

ClassConnectは、クラスの時間割や日々の連絡事項を簡単に共有・確認できるウェブアプリケーションです。
先生と生徒間の情報伝達をスムーズにし、教室運営をサポートします。

---

## 2. 利用規約

本アプリケーション ClassConnect (以下「本ツール」といいます) を利用される前に、以下の利用規約をよくお読みください。本ツールを利用することで、本規約に同意したものとみなします。

### 2.1 ツールの目的と免責事項

*   本ツールは、クラス内の情報共有を補助することを目的として提供されます。
*   本ツールの提供者は、本ツールの利用によって生じたいかなる損害（データの損失、業務の中断、その他の金銭的損害を含むがこれに限らない）についても、一切の責任を負いません。
*   本ツールは現状有姿で提供され、バグや障害がないこと、特定の目的に適合すること、第三者の権利を侵害しないことを保証するものではありません。

### 2.2 データの取り扱いと責任

*   本ツールに入力されたデータ（時間割、お知らせ、科目情報など）は、基本的に誰でも閲覧・編集が可能です（管理者機能を除く）。データの正確性、機密性については利用者の責任において管理してください。
*   重要な情報や個人情報を含むデータの取り扱いには十分注意してください。

### 2.3 禁止事項

*   本ツールの意図的な妨害行為（不正なデータの入力、システムの脆弱性を利用した攻撃など）。
*   本ツールおよびそのデータを、クラス運営の目的を著しく逸脱する形で、むやみに外部に公開または共有する行為。
*   法令または公序良俗に違反する行為。

### 2.4 AI機能に関する注意

*   本ツールには、AI（人工知能）を利用した機能（お知らせの要約など）が含まれる場合があります。
*   AIによって生成された情報は、必ずしも正確または完全であるとは限りません。重要な判断を行う際は、必ず元の情報を確認し、ご自身の責任において利用してください。
*   AI機能の利用によって生じたいかなる結果についても、本ツールの提供者は責任を負いません。

### 2.5 規約の変更

*   本ツールの提供者は、必要に応じて本規約を変更できるものとします。変更後の規約は、本ツール上で表示された時点から効力を生じるものとします。

### 2.6 その他

*   本ツールの仕様は、予告なく変更されることがあります。

---

## 3. 基本的な使い方 (一般ユーザー向け)

### 3.1 画面構成

*   **ヘッダー:**
    *   **ロゴ/アプリ名:** ホーム画面に戻ります。
    *   **カレンダー:** クラスのイベントや重要な連絡事項が登録されたカレンダーを表示します。
    *   **お問い合わせ:** 運営への問い合わせフォームを表示します。
    *   **ヘルプ:** この利用ガイドを表示します。
    *   **管理者ログイン/ログアウト:** 管理者アカウントでのログイン・ログアウトを行います。
    *   **テーマ切り替え:** ライトモードとダークモードを切り替えます。
*   **メインコンテンツ:**
    *   **ホーム画面:** 今日の日付の時間割と全体連絡が表示されます。
    *   **カレンダーページ:** 月間カレンダー形式で、登録された行事やカレンダー表示がオンになっている時間割の連絡事項を確認できます。
    *   **お問い合わせページ:** 運営に対して問い合わせを送信できます。

### 3.2 時間割の確認

*   ホーム画面で、選択された日付の時間割を確認できます。
*   日付ナビゲーションボタン（「今日」「前日」「翌日」「日付選択」「前の週」「次の週」）を使って、表示する日付を変更できます。
*   各時間割のコマには、科目名、担当教員名、および連絡事項が表示されます。
*   科目が基本の時間割から変更されている場合、「(変更)」と表示されます。

### 3.3 全体連絡の確認

*   ホーム画面の上部に、その日の全体連絡が表示されます。
*   全体連絡には、AIによる要約が表示されることがあります。
    *   **注意:** AIによる要約は必ずしも完璧ではありません。重要な情報は必ず原文を確認してください。

### 3.4 個別連絡の確認と変更 (時間割のコマ)

*   各時間割のコマの右下にある編集アイコン（ペンのマーク）をクリックすると、そのコマの連絡事項を入力・編集できます。
    *   「科目変更」プルダウンで、その時間の科目を基本の時間割から変更できます。「変更なし」を選択すると、基本の時間割の科目が適用されます。
    *   「連絡内容」に、持ち物や課題などの連絡事項をMarkdown形式で入力できます。
    *   「カレンダーに表示」にチェックを入れると、この連絡事項（科目名と期間）がカレンダーページにも表示されるようになります（主にテスト範囲や特別な連絡に使用します）。
*   入力後、「保存」ボタンで変更を保存します。
*   「クリア」ボタンで、そのコマの変更（科目変更、連絡内容、カレンダー表示設定）をすべてリセットし、基本の時間割の状態に戻します。
*   「元の教科に戻す」ボタンで、科目変更と連絡事項のみをリセットし、科目を基本の時間割に戻します。

### 3.5 カレンダーの確認

*   ヘッダーの「カレンダー」リンクからアクセスします。
*   月間カレンダーが表示され、登録されている学校行事や、時間割で「カレンダーに表示」がオンになっている連絡事項を確認できます。
*   日付のマスをクリックすると、その日の予定一覧がポップアップで表示されます。
*   ポップアップ内の「この日の時間割を見る」ボタンで、該当日の時間割ページに移動できます。

### 3.6 お問い合わせフォームの利用

*   ヘッダーの「お問い合わせ」リンクからアクセスします。
*   以下の情報を入力して、運営に問い合わせを送信できます。
    *   **お問い合わせ種別:** 「バグ報告」「機能要望」「ご質問」「その他」から選択します。
    *   **お問い合わせ内容:** 具体的な内容を記入します（必須、10文字以上）。
    *   **メールアドレス (任意):** 返信が必要な場合に記入します。

---

## 4. 管理者向け機能

<!-- ADMIN_SECTION_START_REPLACE_WITH_EMPTY_FOR_NON_ADMIN -->
**管理者としてログインしている場合、以下の追加機能が利用できます。**
<!-- ADMIN_SECTION_END_REPLACE_WITH_EMPTY_FOR_NON_ADMIN -->

<!-- ADMIN_SECTION_START -->
### 4.1 管理者ログイン

*   ヘッダー右上の「管理者ログイン」ボタンから、登録されたメールアドレスとパスワードでログインします。
*   ログイン後は、管理者専用メニューが表示され、各種設定や管理機能にアクセスできます。

### 4.2 科目管理 (ヘッダー「科目」)

*   授業で使われる科目を登録・編集・削除できます。
*   「新規科目を追加」ボタンで新しい科目を追加します。科目名と担当教員名を入力します（担当教員名は任意）。
*   既存の科目の編集アイコンから科目名や担当教員名を変更できます。
*   削除アイコンから科目を削除できます。
    *   **注意:** 科目を削除すると、その科目が割り当てられていた時間割のコマは「未設定」になります。関連データも影響を受ける可能性があるため、慎重に操作してください。

### 4.3 設定 (ヘッダー「設定」)

*   **基本設定:**
    *   「1日の時間数」を設定します（1〜12時間）。この設定は、時間割表の表示に影響します。
*   **固定時間割の設定:**
    *   曜日ごと・時限ごとの基本となる時間割（科目）を設定します。
    *   ここで設定した内容は、ホーム画面の時間割表のデフォルトとして適用されます。
    *   「固定時間割を保存」ボタンで変更を保存すると、自動的に将来の日付（約2ヶ月先まで）の空の時間割にこの基本時間割が適用されます。
    *   「時間割を初期化」ボタンで、すべての固定時間割の科目を「未設定」に戻し、将来の日付の時間割も未設定で上書きします。
    *   「将来の時間割を基本で上書き」ボタンで、現在保存されている固定時間割の内容で、将来の日付のすべての時間割（手動での変更を含む）を上書きします。

### 4.4 お問い合わせ管理 (ヘッダー「問い合わせ」)

*   ユーザーから送信されたお問い合わせを一覧で確認し、対応状況を管理できます。
*   各お問い合わせに対して、以下のステータスを設定できます。
    *   新規
    *   対応中
    *   解決済み
    *   対応しない
*   対応状況の変更は自動的に保存され、ログにも記録されます。

### 4.5 変更履歴 (ヘッダー「履歴」)

*   科目、設定、お知らせ、行事など、アプリケーション内の主要なデータ変更操作のログを閲覧できます。
*   一部の操作については、「元に戻す」ボタンで操作をロールバック（取り消し）することができます。
    *   ロールバック操作自体もログに記録され、さらにそのロールバックを取り消す（元の操作を再適用する）ことも可能です。
    *   **注意:** 複雑な操作や依存関係のある変更のロールバックは、予期せぬ結果を招く可能性があります。慎重に操作してください。

### 4.6 行事の追加・編集・削除 (カレンダーページ)

*   カレンダーページ右上の「行事追加」ボタンから、新しい学校行事を登録できます。
    *   行事名、開始日、終了日（任意）、詳細説明を入力します。
*   カレンダーの日付マスをクリックして表示される予定一覧ポップアップ内で、既存の行事の編集・削除が可能です（管理者のみ）。
    *   編集アイコンで行事内容を修正できます。
    *   ゴミ箱アイコンで行事を削除できます。

### 4.7 AI要約の管理 (全体連絡)

*   ホーム画面の全体連絡セクションで、AIによる要約の再生成や削除が可能です。
    *   「AI要約を再生成」ボタンで、現在の連絡内容に基づいて再度AI要約を生成します。
    *   AI要約が表示されている場合、ゴミ箱アイコンでその要約を削除できます。
<!-- ADMIN_SECTION_END -->

---

## 5. 困ったときは

*   **データが正しく表示されない、更新されない:**
    *   インターネット接続を確認してください。
    *   ブラウザを再読み込みしてみてください。
    *   それでも解決しない場合は、管理者にご連絡いただくか、お問い合わせフォームからご連絡ください。
*   **操作方法がわからない:**
    *   この利用ガイドの該当箇所をご確認ください。
    *   解決しない場合は、管理者にご連絡いただくか、お問い合わせフォームからご質問ください。

---

## 6. オープンソースライセンス (Open Source Licenses)

本アプリケーション ClassConnect は、以下のオープンソースソフトウェアを利用して開発されています。これらのソフトウェアのライセンス条件は、各ソフトウェアの公式サイトまたは配布元で確認できます。

*   **Next.js:** MIT License
*   **React:** MIT License
*   **Tailwind CSS:** MIT License
*   **Firebase SDKs (firebase):** Apache License 2.0
*   **Genkit（および @genkit-ai パッケージ）:** Apache License 2.0
*   **Shadcn/UI (Radix UI, Lucide Reactなどを含む):** MIT License
*   **Tanstack Query (@tanstack/react-query):** MIT License
*   **date-fns:** MIT License
*   **Zod:** MIT License
*   **React Hook Form:** MIT License
*   **React Markdown:** MIT License
*   **clsx:** MIT License
*   **tailwind-merge:** MIT License

その他、多数の依存パッケージが含まれています。詳細は `package.json` や各ライブラリのドキュメントをご確認ください。

---

## 7. システム構成と利用技術（参考）

ClassConnect は以下のような構成で開発・運用されています：

### デプロイ先
*   **Vercel**（Next.js アプリケーションホスティング）

### バックエンド・データサービス
*   **Firebase Authentication**（ユーザー認証）
*   **Firebase Firestore**（データベース）
*   **Google Gemini API**（AIによる要約生成）

### 主要ライブラリ・フレームワーク
*   **Next.js (App Router)**
*   **React**
*   **TypeScript**
*   **Tailwind CSS**
*   **Shadcn/UI**
*   **Genkit** (Google AI Studio)
*   **Tanstack Query**
*   **Firebase SDK**

---

この利用ガイドが ClassConnect の活用の一助となれば幸いです。
